@using ContactApp.Controllers
@model t_User

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        @* function ShowAlert(message, type) {
            Swal.fire({
                title: type === 'success' ? 'Success' : 'Error!',
                text: message,
                icon: type,
                confirmButtonText: 'OK'
            });
        } *@

        $(document).ready(function () {
            var successMessage = "@TempData["Success"]";
            var errorMessage = "@TempData["Error"]";

            if (successMessage) {
                Swal.fire({
                    title: 'Success',
                    text: successMessage,
                    icon: 'success',
                    confirmButtonText: 'OK'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '@Url.Action("Register", "User")';
                    }
                });
            }

            if (errorMessage) {
                Swal.fire({
                    title: 'Error',
                    text: errorMessage,
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
            }

        });        
    </script>
}


<div class="container mt-5 rounded border-secondary" style="border: 2px solid #ae2323; width: 70%; padding: 20px;">
    <h2 class="text-center">Register User</h2>
    <form enctype="multipart/form-data" asp-action="Create" asp-controller="User" method="post">
        <div class="modal-body">
            <div class="mt-3">
                <label class="control-label mt-1" for="name">Name:</label>
                <div class="mt-1">
                    <input type="text" class="form-control" asp-for="c_UserName" id="name" placeholder="Enter Name">
                </div>
                <div>
                    <span class="text-danger" asp-validation-for="c_UserName"></span>
                </div>
            </div>

            <div class="mt-3">
                <label class="control-label mt-1" for="email">Email:</label>
                <div class="mt-1">
                    <input type="email" class="form-control" asp-for="c_Email" id="email" placeholder="Enter email">
                </div>
                <div>
                    <span class="text-danger" asp-validation-for="c_Email"></span>
                </div>
            </div>

            <div class="mt-3">
                <label class="control-label mt-1" for="password">Password:</label>
                <div class="mt-1">
                    <input type="password" class="form-control" asp-for="c_Password" id="password"
                        placeholder="Enter password">
                </div>
                <div>
                    <span class="text-danger" asp-validation-for="c_Password"></span>
                </div>
            </div>

            <div class="mt-3">
                <label class="control-label mt-1" for="address">Address:</label>
                <div class="mt-1">
                    <input type="text" class="form-control" asp-for="c_Address" id="address"
                        placeholder="Enter address">
                </div>
                <div>
                    <span class="text-danger" asp-validation-for="c_Address"></span>
                </div>
            </div>

            <div class="mt-3">
                <label class="control-label mt-1" for="mobile">Mobile:</label>
                <div class="mt-1">
                    <input type="text" class="form-control" asp-for="c_Mobile" id="mobile" placeholder="Enter mobile">
                </div>
                <div>
                    <span class="text-danger" asp-validation-for="c_Mobile"></span>
                </div>
            </div>
            <div class="mt-3">
                <label class="control-label mt-1" for="gender">Gender:</label>
                <div class="mt-1">
                    <input type="radio" id="gender1" asp-for="c_Gender" value="Male">Male
                    <input type="radio" id="gender2" asp-for="c_Gender" value="Female">Female
                    <input type="radio" id="gender3" asp-for="c_Gender" value="Other">Other
                </div>
            </div>

            <div class="mt-3">
                <label class="control-label mt-1" for="profilepic">Image:</label>
                <div class="mt-1">
                    <input type="file" class="form-control" asp-for="ProfilePicture" id="profilepic">
                </div>   
            </div>




            <div id="responseMessage" class="mt-3 text-info">
                @* <div class="alert" @(TempData["message"] != null ? "alert-danger" : "")>
                    @TempData["Message"]
                </div> *@
            </div>

            <div asp-validation-summary="All" class="text-danger"> </div>
            <button type="submit" class="btn btn-primary" id="btnsave">Register</button>


        </div>
       
         <p class="m-3">Already have account? <a href="@Url.Action("Login", "User")">Login</a></p>
    </form>
</div>


